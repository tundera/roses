# Migration `20200801161841-add-players-and-teams-resources`

This migration has been generated by tundera at 8/1/2020, 4:18:41 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."Player" (
"id" SERIAL,
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,
"updatedAt" timestamp(3)  NOT NULL ,
"name" text  NOT NULL ,
"number" integer  NOT NULL ,
"height" integer  NOT NULL ,
"weight" integer  NOT NULL ,
"teamId" integer  NOT NULL ,
PRIMARY KEY ("id"))

CREATE TABLE "public"."Team" (
"id" SERIAL,
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,
"updatedAt" timestamp(3)  NOT NULL ,
"name" text  NOT NULL ,
"city" text  NOT NULL ,
"division" text  NOT NULL ,
"coach" text  NOT NULL ,
PRIMARY KEY ("id"))

ALTER TABLE "public"."Project" ADD COLUMN "createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,
ADD COLUMN "updatedAt" timestamp(3)  NOT NULL ;

ALTER TABLE "public"."Player" ADD FOREIGN KEY ("teamId")REFERENCES "public"."Team"("id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200801151133-add-project-model..20200801161841-add-players-and-teams-resources
--- datamodel.dml
+++ datamodel.dml
@@ -2,29 +2,24 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 // datasource sqlite {
 //     provider = "sqlite"
-//     url = "***"
+//     url = "***"
 // }
 // SQLite is easy to start with, but if you use Postgres in production
 // you should also use it in development with the following:
 datasource postgresql {
     provider = "postgresql"
-    url = "***"
+    url = "***"
 }
 generator client {
     provider = "prisma-client-js"
 }
 // --------------------------------------
-model Project {
- id        Int      @default(autoincrement()) @id
- name      String
-}
-
 model Question {
     id        Int      @default(autoincrement()) @id
     createdAt DateTime @default(now())
     updatedAt DateTime @updatedAt
@@ -40,4 +35,34 @@
     votes      Int      @default(0)
     question   Question @relation(fields: [questionId], references: [id])
     questionId Int
 }
+
+model Project {
+  id        Int      @default(autoincrement()) @id
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+  name      String   
+}
+
+model Player {
+  id        Int      @default(autoincrement()) @id
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+  name      String   
+  number    Int      
+  height    Int      
+  weight    Int      
+  team      Team     @relation(fields: [teamId], references: [id])
+  teamId    Int      
+}
+
+model Team {
+  id        Int      @default(autoincrement()) @id
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+  name      String   
+  city      String   
+  division  String   
+  coach     String   
+  players   Player[] 
+}
```


